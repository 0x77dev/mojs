<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> - mojs.coffee</title>

  <link rel="stylesheet" href="../assets/style.css">
  
    
      <style>
        
      </style>
    
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
  <meta name="groc-relative-root" content="../"/>
  <meta name="groc-document-path" content="js/mojs.coffee"/>
  
</head>
<body>
  <div id="file-area">
    <div id="meta">
      <code class="file-path">
      
        <a href="https://github.com/legomushroom/mojs.git/blob/master/js/mojs.coffee">js/mojs.coffee</a>
      
      </code>
    </div>
    <div id="document">
    
      <div class="segment">
      
      
        <div class="code"><div class="wrapper">mojs =
  <span class="hljs-attribute">revision</span>:   <span class="hljs-string">'0.120.1'</span>, <span class="hljs-attribute">isDebug</span>: <span class="hljs-literal">true</span>
  helpers     : <span class="hljs-built_in">require</span> <span class="hljs-string">'./h'</span>
  Bit         : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/bit'</span>
  bitsMap     : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/bitsMap'</span>
  Circle      : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/circle'</span>
  Cross       : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/cross'</span>
  Line        : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/line'</span>
  Rect        : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/rect'</span>
  Polygon     : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/polygon'</span>
  Equal       : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/equal'</span>
  Zigzag      : <span class="hljs-built_in">require</span> <span class="hljs-string">'./shapes/zigzag'</span>
  Burst       : <span class="hljs-built_in">require</span> <span class="hljs-string">'./burst'</span>
  Transit     : <span class="hljs-built_in">require</span> <span class="hljs-string">'./transit'</span>
  Swirl       : <span class="hljs-built_in">require</span> <span class="hljs-string">'./swirl'</span>
  Stagger     : <span class="hljs-built_in">require</span> <span class="hljs-string">'./stagger'</span>
  Spriter     : <span class="hljs-built_in">require</span> <span class="hljs-string">'./spriter'</span>
  MotionPath  : <span class="hljs-built_in">require</span> <span class="hljs-string">'./motion-path'</span>
  Timeline    : <span class="hljs-built_in">require</span> <span class="hljs-string">'./tween/timeline'</span>
  Tween       : <span class="hljs-built_in">require</span> <span class="hljs-string">'./tween/tween'</span>
  tweener     : <span class="hljs-built_in">require</span> <span class="hljs-string">'./tween/tweener'</span>
  easing      : <span class="hljs-built_in">require</span> <span class="hljs-string">'./easing'</span>

mojs.h     = mojs.helpers
mojs.delta = mojs.h.delta


el = <span class="hljs-built_in">document</span>.querySelector <span class="hljs-string">'#js-sprite'</span>
path = <span class="hljs-string">'M0,100 C4.00577744,92.3519448
        8.46993511,63.9895504 13.1512887,0.0901667719
        L21.3497674,0 C21.3497674,-1.77229627
        30.5883328,115.057627 42.9949846,0
        L48.1345723,0 C48.1345723,-0.774700647
        54.5357691,56.4124428 63.0607938,0
        L66.17434,0 C66.17434,-0.960124778
        70.5072591,29.23993 76.7835754,0
        L78.6555388,0 C78.6555388,0.000360393587
        81.8632425,16.4914595 86.0928122,0
        L87.2894428,0 C87.2894428,-0.761743229
        89.1622181,9.6571475 92.2144672,0
        L93.1382971,0 C93.1382971,-0.227841855
        94.7579743,4.40567189 96.9144218,0
        L97.5682773,0 C97.5682773,-0.227841855
        98.9774879,1.86613741 100,0'</span>
path2 = <span class="hljs-string">'M0,100 C0,100
          4.50292969,98.5458979 13.1655083,129.599609 C13.1655083,125.550292
          14.5922587,111.423982 14.9775391,100 C18.3436489,0.118817967
          21.3763133,100 21.3763133,100 C21.3763133,100
          24.1020114,143.589313 31.182035,100.498105 C31.328125,99.3914616
          32.96875,99.9925683 32.96875,99.9925683 C32.96875,99.9925683
          37.7038574,101.822997 43.1033936,119.37915 C43.4711914,114.650634
          44.145598,101.943658 44.3303223,99.9925683 C46.303074,64.0298992
          48.1256605,100 48.1256605,100 C48.1199951,99.9868613
          49.9071233,128.571455 54.5492038,100.31832 C54.644989,99.5927399
          55.7206794,99.9868608 55.7206794,99.9868608 C55.7206794,99.9868608
          59.6297405,101.239014 63.1699944,112.749862 C63.4111443,109.649569
          64.0730787,101.271818 64.1941948,99.9925683 C65.7125677,79.1142212
          66.3750221,100 66.3750221,100 C66.3750221,100
          75.6449112,100 76.9499613,100 C77.9891495,90.3360533
          78.7952818,100 78.7952818,100 C78.7952818,100
          85.3866104,100 86.163329,100 C86.7355255,95.6422743
          87.4229688,100 87.4229688,100 C87.4229688,100
          91.4811997,100 92.0937284,100 C92.6703705,97.8777651
          93.2507552,100 93.2507552,100 C93.2507552,100
          96.5008682,100 97.0045401,100 C97.4574799,98.8978552
          97.8392386,100 97.8392386,100 L100,100'</span>
easing = mojs.easing.path path2
</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p>easing2 = mojs.easing.path(&#39;M0,100, L100,0&#39;)</p>
</div>
        </div>
      
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p>ease = new mojs.easing.PathEasing path
console.log ease.path.getPointAtLength 0</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper">timeline = <span class="hljs-keyword">new</span> mojs.Timeline
  <span class="hljs-attribute">delay</span>:    <span class="hljs-number">1000</span>
  <span class="hljs-attribute">duration</span>: <span class="hljs-number">20000</span>
  <span class="hljs-attribute">onUpdate</span>:<span class="hljs-function"><span class="hljs-params">(p)</span>-&gt;</span></div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p>console.time &#39;sample&#39;</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper">    ease = easing(p)</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p>ease = easing(p)
ease = easing(p)
ease = easing(p)
ease = easing(p)
console.log ease
console.log ease
ease2 = easing2(p)
console.log ease
console.timeEnd &#39;sample&#39;
console.log p, ease
mojs.easing.bounce.out</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper">    el.style.transform = <span class="hljs-string">"translateY(<span class="hljs-subst">#{<span class="hljs-number">600</span>*ease}</span>px)"</span>

tween = <span class="hljs-keyword">new</span> mojs.Tween

tween.add timeline
tween.start()

</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p>istanbul ignore next</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define <span class="hljs-keyword">is</span> <span class="hljs-string">"function"</span>) <span class="hljs-keyword">and</span> define.amd
  define <span class="hljs-string">"mojs"</span>, [], <span class="hljs-function">-&gt;</span> mojs</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p>istanbul ignore next</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> <span class="hljs-keyword">is</span> <span class="hljs-string">"object"</span>) <span class="hljs-keyword">and</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span>.exports <span class="hljs-keyword">is</span> <span class="hljs-string">"object"</span>)
  <span class="hljs-built_in">module</span>.exports = mojs</div></div>
      
      </div>
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><p>istanbul ignore next</p>
</div>
        </div>
      
      
        <div class="code"><div class="wrapper"><span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>?.mojs = mojs
</div></div>
      
      </div>
    
    </div>
  </div>

  <script src="../toc.js"></script>
  <script src="../assets/libs.js"></script>
  <script src="../assets/behavior.js"></script>

  
    
      <script>
        function __cp_domReady(e){/in/.test(document.readyState)?setTimeout("__cp_domReady("+e+")",9):e()}document.getElementsByClassName||(document.getElementsByClassName=function(e){var t,n,a,r=document,s=[];if(r.querySelectorAll)return r.querySelectorAll("."+e);if(r.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+e+" ')]",t=r.evaluate(n,r,null,0,null);a=t.iterateNext();)s.push(a);else for(t=r.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0;a<t.length;a++)n.test(t[a].className)&&s.push(t[a]);return s});var CodePenEmbed={width:"100%",init:function(){return window.__cp_embed_script_ran?0:(window.__cp_embed_script_ran=!0,this.showCodePenEmbeds(),void this.listenToParentPostMessages())},showCodePenEmbeds:function(){for(var e=document.getElementsByClassName("codepen"),t=e.length-1;t>-1;t--){var n=this._getParamsFromAttributes(e[t]);if(n=this._convertOldDataAttributesToNewDataAttributes(n),n.user=this._findUsernameForURL(n,e[t]),this._paramsHasRequiredAttributes(n)){var a=this._buildURL(n),r=this._buildIFrame(n,a);this._addIFrameToPage(e[t],r)}}},_findUsernameForURL:function(e,t){if("string"==typeof e.user)return e.user;for(var n=0,a=t.children.length;a>n;n++){var r=t.children[n],s=r.href||"",i=s.match(/codepen\.(io|dev)\/(\w+)\/pen\//i);if(i)return i[2]}return"anon"},_paramsHasRequiredAttributes:function(e){return e["slug-hash"]},_getParamsFromAttributes:function(e){for(var t={},n=e.attributes,a=0,r=n.length;r>a;a++){var s=n[a].name;0===s.indexOf("data-")&&(t[s.replace("data-","")]=n[a].value)}return t},_convertOldDataAttributesToNewDataAttributes:function(e){return e.href&&(e["slug-hash"]=e.href),e.type&&(e["default-tab"]=e.type),e.safe&&(e.animations="true"===e.safe?"run":"stop-after-5"),e},_buildURL:function(e){var t=this._getHost(e),n=e.user?e.user:"anon",a="?"+this._getGetParams(e),r=[t,n,"embed",e["slug-hash"]+a].join("/");return r.replace(/\/\//g,"//")},_getHost:function(e){return e.host?this._getSafeHost(e.host):"file:"===document.location.protocol?"http://codepen.io":"//codepen.io"},_getSafeHost:function(e){return e.match(/^\/\//)||!e.match(/http:/)?document.location.protocol+"//"+e:e},_getGetParams:function(e){var t="";for(var n in e)""!==t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);return t},_buildIFrame:function(e,t){var n="";""!==e["class"]&&(n=e["class"]);var a={id:"cp_embed_"+e["slug-hash"].replace("/","_"),src:t,scrolling:"no",frameborder:"0",height:this._getHeight(e),allowTransparency:"true",allowfullscreen:"true","class":"cp_embed_iframe "+n,style:"width: "+this.width+"; overflow: hidden;"},r="<iframe ";for(var s in a)r+=s+'="'+a[s]+'" ';return r+="></iframe>"},_getHeight:function(e){return e.height?"auto"===e.height?300:e.height:300},_addIFrameToPage:function(e,t){if(e.parentNode){var n=document.createElement("div");n.innerHTML=t,e.parentNode.replaceChild(n,e)}else e.innerHTML=t},listenToParentPostMessages:function(){var eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventListener=window[eventMethod],messageEvent="attachEvent"===eventMethod?"onmessage":"message";eventListener(messageEvent,function(e){try{var dataObj=eval("("+e.data+")"),iframe=document.getElementById("cp_embed_"+dataObj.hash);iframe&&(iframe.height=dataObj.height)}catch(err){}},!1)}};__cp_domReady(function(){CodePenEmbed.init()});
      </script>
    
  
</body>
</html>