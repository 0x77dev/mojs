{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 205720f5c2c8d3bfaea3","webpack:///./src/class-proto.babel.js","webpack:///./src/tween/tween-defaults.babel.js","webpack:///./src/tween/planner.babel.js","webpack:///./src/tween/tweener.babel.js","webpack:///./src/tween/tween.babel.js","webpack:///./src/mojs.babel.js"],"names":["ClassProto","o","_o","_init","_declareDefaults","_extendDefaults","_vars","_defaults","_props","attr","value","key","_assignProp","duration","delay","repeat","speed","isYoyo","easing","backwardEasing","isReverse","onProgress","onStart","onRefresh","onComplete","onRepeatStart","onRepeatComplete","onFirstUpdate","onUpdate","onPlaybackStart","onPlaybackPause","onPlaybackStop","onPlaybackComplete","name","shiftTime","nameBase","isChained","Planner","_originalDelay","_originalDuration","_normalizeDelayAndDuration","_plan","_calcTotalTime","length","step","time","_totalTime","prevPeriod","_getPeriod","period","nextPeriod","prevFrame","frameSnapshot","push","isPrevFrame","undefined","isPrevDelay","lastIndex","reverse","TTime","elapsed","Math","round","floor","getVisiblityEvent","document","mozHidden","msHidden","webkitHidden","Tweener","_loop","tweens","_stopLoop","update","performance","now","requestAnimationFrame","_onVisibilityChange","_visibilityHidden","_savePlayingTweens","_restorePlayingTweens","_listenVisibilityChange","_savedTweens","_isRunning","tween","index","indexOf","splice","hidden","_visibilityChange","addEventListener","slice","i","pause","resume","remove","onTweenerFinish","_prevTime","_startLoop","removeEventListener","Tween","_envokeCallBacks","snapshot","mask","props","_envokeCallBacksRev","_planner","createPlan","Infinity","_resumeTime","_elapsed","_frameIndex","_negativeShift","_isReversed","_state","_prevState","_callbacksRev","_startPoint","_startTime","_playTime","state","wasPause","wasStop","wasPlay","wasReverse","wasPlaying","wasStill","shift","isPause","isPlay","isPlayBackward","isPrevPlayBackward","isFlip","_setResumeTime","add","startTime","abs","_setStartTime","_subPlay","_setPlaybackState","isReversed","reset","play","playBackward","progress","stopProc","setProgress","startPoint","mojs","revision","tweener","__helpers__","TweenPlanner","tweenDefaults"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCxDMA,U;AACJ,4BAAqB;AAAA,YAARC,CAAQ,uEAAJ,EAAI;;AAAA;;AACnB;AACA,aAAKC,EAAL,GAAUD,CAAV;;AAEA,aAAKE,KAAL;AACA,aAAKC,gBAAL;AACA,aAAKC,eAAL;AACA,aAAKC,KAAL;AACD;;AAED;;;;;;;;;gCAKQ,CAAE;;;2CAOS;AAAE,eAAKC,SAAL,GAAiB,EAAjB;AAAsB;;;0CAOzB;AAChB,eAAKC,MAAL,gBACK,KAAKD,SADV,EAEK,KAAKL,EAFV;AAID;;;iCAWQO,I,EAAMC,K,EAAO;AACpB,cAAK,OAAOD,IAAP,KAAgB,QAArB,EAAgC;AAC9B,iBAAM,IAAIE,GAAV,IAAiBF,IAAjB,EAAwB;AAAE,mBAAKG,WAAL,CAAkBD,GAAlB,EAAuBF,KAAKE,GAAL,CAAvB;AAAqC;AAChE,WAFD,MAEO;AAAE,iBAAKC,WAAL,CAAkBH,IAAlB,EAAwBC,KAAxB;AAAkC;AAC5C;;;oCASWC,G,EAAKD,K,EAAO;AAAE,eAAKF,MAAL,CAAYG,GAAZ,IAAmBD,KAAnB;AAA2B;;;gCAQ7C,CAAE;;;;;;sBAGGV,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sBC9EA;AACb;AACAa,gBAAwB,GAFX;AAGb;AACAC,aAAwB,CAJX;AAKb;;;AAGAC,cAAwB,CARX;AASb;;;AAGAC,aAAwB,CAZX;AAab;;;AAGAC,cAA0B,KAhBb;AAiBb;AACAC,cAAwB,SAlBX;AAmBb;;;;;AAKAC,sBAAwB,IAxBX;AAyBb;AACAC,iBAAwB,KA1BX;AA2Bb;;;;;;;;AAQAC,kBAAwB,YAAW,CAAE,CAnCxB;AAoCb;;;;;;;AAOAC,eAAwB,YAAW,CAAE,CA3CxB;AA4CbC,iBAAwB,YAAW,CAAE,CA5CxB;AA6CbC,kBAAwB,YAAW,CAAE,CA7CxB;AA8CbC,qBAAwB,YAAW,CAAE,CA9CxB;AA+CbC,wBAAwB,YAAW,CAAE,CA/CxB;AAgDbC,qBAAwB,YAAW,CAAE,CAhDxB;AAiDbC,gBAAwB,YAAW,CAAE,CAjDxB;AAkDb;AACA;AACAC,uBAAwB,YAAW,CAAE,CApDxB;AAqDbC,uBAAwB,YAAW,CAAE,CArDxB;AAsDbC,sBAAwB,YAAW,CAAE,CAtDxB;AAuDbC,0BAAwB,YAAW,CAAE,CAvDxB;AAwDb;AACAC,YAAwB,IAzDX;AA0Db;AACAC,iBAAwB,CA3DX;AA4Db;AACAC,gBAAwB,OA7DX;AA8DbC,iBAAwB;AA9DX,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCGMC,O;;;;;;;;;;;2CAQA;AAAE,iBAAO,KAAK9B,SAAL,0BAAP;AAAmC;;;0CAOtC;AAChB;;AADgB,uBAGmB,KAAKC,MAHxB;AAAA,cAGRM,KAHQ,UAGRA,KAHQ;AAAA,cAGDD,QAHC,UAGDA,QAHC;AAAA,cAGSG,KAHT,UAGSA,KAHT;;AAIhB;AACA,eAAKsB,cAAL,GAAsBxB,KAAtB;AACA;AACA,eAAKyB,iBAAL,GAAyB1B,QAAzB;AACA;AACA,eAAK2B,0BAAL;AACD;;;qDAQ4B;AAAA,cACnBxB,KADmB,GACT,KAAKR,MADI,CACnBQ,KADmB;;AAE3B;AACA,eAAKR,MAAL,CAAYM,KAAZ,GAAoB,KAAKwB,cAAL,GAAsBtB,KAA1C;AACA;AACA,eAAKR,MAAL,CAAYK,QAAZ,GAAuB,KAAK0B,iBAAL,GAAyBvB,KAAhD;AACD;;;gCAQO;AACN,eAAKyB,KAAL,GAAa,EAAb;;AAEA;AACA,eAAKC,cAAL;AACD;;;qCAOY;AACX;AACA,eAAKD,KAAL,CAAWE,MAAX,GAAoB,CAApB;AACA;AACA,eAAKD,cAAL;;AAEA;AACA,cAAME,OAAO,EAAb;AACA;AACA,cAAIC,OAAO,KAAKrC,MAAL,CAAYM,KAAvB;;AAEA,iBAAO+B,QAAQ,KAAKC,UAApB,EAAgC;AAC9B,gBAAMC,aAAa,KAAKC,UAAL,CAAgBH,OAAOD,IAAvB,CAAnB;AACA,gBAAMK,SAAS,KAAKD,UAAL,CAAgBH,IAAhB,CAAf;AACA,gBAAMK,aAAa,KAAKF,UAAL,CAAgBH,OAAOD,IAAvB,CAAnB;AACA,gBAAMO,YAAY,KAAKV,KAAL,CAAW,KAAKA,KAAL,CAAWE,MAAX,GAAkB,CAA7B,CAAlB;;AAEA,gBAAIS,gBAAgB,CAApB;;AAEA,gBAAIH,WAAW,OAAf,EAAwB;AACtB,mBAAKR,KAAL,CAAWY,IAAX,CAAgBD,aAAhB;AACAP,sBAAQD,IAAR;AACA;AACD;;AAED;AACAQ,4BAAgBA,gBAAiB,KAAK,CAAtC;;AAEA,gBAAME,cAAcH,cAAcI,SAAlC;;AAEA,gBAAI,CAACD,WAAL,EAAkB;AAChB;AACAF,8BAAgBA,gBAAiB,KAAK,CAAtC;AACD;;AAED,gBAAMI,cAAcT,eAAe,OAAnC;AACA;AACA,gBAAI,CAACO,WAAD,IAAgBE,WAAhB,IAA+BT,eAAeE,SAAS,CAA3D,EAA8D;AAC5DG,8BAAgBA,gBAAiB,KAAK,CAAtC;AACD;;AAED;AACA,gBAAIF,eAAe,OAAf,IAA0BA,eAAeD,SAAS,CAAtD,EAAyD;AACvDG,8BAAgBA,gBAAiB,KAAK,CAAtC;AACD;;AAED,iBAAKX,KAAL,CAAWY,IAAX,CAAgBD,aAAhB;;AAEAP,oBAAQD,IAAR;AACD;;AAED;AACA,cAAMa,YAAY,KAAKhB,KAAL,CAAWE,MAAX,GAAoB,CAAtC;AACA,eAAKF,KAAL,CAAWgB,SAAX,IAAwB,KAAKhB,KAAL,CAAWgB,SAAX,IAAyB,KAAK,CAAtD;AACA,cAAI,KAAKjD,MAAL,CAAYY,SAAhB,EAA2B;AACzB,iBAAKqB,KAAL,CAAWiB,OAAX;AACD;;AAED,iBAAO,KAAKjB,KAAZ;AACD;;;yCAKgB;AAAA,wBACqB,KAAKjC,MAD1B;AAAA,cACPM,KADO,WACPA,KADO;AAAA,cACAD,QADA,WACAA,QADA;AAAA,cACUE,MADV,WACUA,MADV;;AAEf,cAAM8B,OAAOhC,WAAWC,KAAxB;;AAEA,eAAKgC,UAAL,GAAkBD,QAAQ9B,SAAS,CAAjB,CAAlB;AACD;;;mCASU8B,I,EAAM;AAAA,wBACa,KAAKrC,MADlB;AAAA,cACPM,KADO,WACPA,KADO;AAAA,cACAD,QADA,WACAA,QADA;;;AAGf,cAAM8C,QAAQ7C,QAAQD,QAAtB;AACA,cAAIoC,SAASJ,OAAOc,KAApB;AACA;AACA;AACA;AACA,cAAMC,UAAWf,OAAO,KAAKC,UAAb,GAA2BD,OAAOc,KAAlC,GAA0C,CAA1D;AACA;AACA;AACA;AACA;AACAV,mBAAUJ,QAAQ,KAAKC,UAAd,GACLe,KAAKC,KAAL,CAAWb,MAAX,CADK,GACgBY,KAAKE,KAAL,CAAWd,MAAX,CADzB;AAEA;AACA,cAAIJ,OAAO,KAAKC,UAAhB,EAA4B;AAC1B;AACA,mBAAOe,KAAKC,KAAL,CAAW,KAAKhB,UAAL,GAAgBa,KAA3B,CAAP;AACF;AACA;AACC,WALD,MAKO,IAAIC,UAAU,CAAV,IAAeA,UAAU9C,KAA7B,EAAoC;AACzC,mBAAO,OAAP;AACF;AACA;AACC,WAJM,MAIA,IAAI8C,YAAY,CAAZ,IAAiBf,OAAO,KAAKC,UAA7B,IAA2CD,OAAO/B,KAAtD,EAA6D;AAClE,mBAAO,OAAP;AACD,WAFM,MAEA,IAAI8C,YAAY,CAAZ,IAAiBf,OAAO/B,KAA5B,EAAmC;AACxC,mBAAOmC,SAAO,CAAd;AACD;AACD;AACA,iBAAOA,MAAP;AACD;;;;;;sBAzKkBZ,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHrB;;;AAGA,QAAM2B,oBAAoB,YAAM;AAC9B,UAAI,OAAOC,SAASC,SAAhB,KAA8B,WAAlC,EAA+C;AAC7C,eAAO,CAAC,WAAD,EAAc,qBAAd,CAAP;AACD,OAFD,MAEO,IAAI,OAAOD,SAASE,QAAhB,KAA6B,WAAjC,EAA8C;AACnD,eAAO,CAAC,UAAD,EAAa,oBAAb,CAAP;AACD,OAFM,MAEA,IAAI,OAAOF,SAASG,YAAhB,KAAiC,WAArC,EAAkD;AACvD,eAAO,CAAC,cAAD,EAAiB,wBAAjB,CAAP;AACD;;AAED,aAAO,CAAC,QAAD,EAAW,kBAAX,CAAP;AACD,KAVD;;AAYA;;;;;;;QAMQC,O;AACJ,yBAAc;AAAA;;AAAA;;AAAA,aAiBdC,KAjBc,GAiBN,YAAM;AACZ,cAAI,MAAKC,MAAL,CAAY5B,MAAZ,KAAuB,CAA3B,EAA8B;AAAE,mBAAO,MAAK6B,SAAL,EAAP;AAA0B;AAC1D,gBAAKC,MAAL,CAAYC,YAAYC,GAAZ,EAAZ;AACA;AACAC,gCAAsB,MAAKN,KAA3B;AACD,SAtBa;;AAAA,aA0FhBO,mBA1FgB,GA0FM,YAAM;AAC1B,cAAIZ,SAAS,MAAKa,iBAAd,CAAJ,EAAsC;AAAE,kBAAKC,kBAAL;AAA2B,WAAnE,MACK;AAAE,kBAAKC,qBAAL;AAA+B;AACvC,SA7Fe;;AACZ,aAAK1E,KAAL;AACA,aAAK2E,uBAAL;AACA,eAAO,IAAP;AACD;;;;gCAEQ;AACP,eAAKV,MAAL,GAAc,EAAd;AACA;AACA,eAAKW,YAAL,GAAoB,EAApB;AACD;;;qCAiBY;AACX,cAAI,KAAKC,UAAT,EAAqB;AAAE;AAAS;AAChC,eAAKA,UAAL,GAAkB,IAAlB;AACA;AACAP,gCAAsB,KAAKN,KAA3B;AACD;;;oCAKW;AACV,eAAKC,MAAL,CAAY5B,MAAZ,GAAqB,CAArB;AACA,eAAKwC,UAAL,GAAkB,KAAlB;AACD;;;oCAMW;AAAE,eAAKZ,MAAL,CAAY5B,MAAZ,GAAqB,CAArB;AAAyB;;;+BAKhCyC,K,EAAO;AACZ,cAAIC,QAAS,OAAOD,KAAP,KAAiB,QAAlB,GACTA,KADS,GAET,KAAKb,MAAL,CAAYe,OAAZ,CAAoBF,KAApB,CAFH;;AAIA,cAAIC,UAAU,CAAC,CAAf,EAAkB;AAChBD,oBAAQ,KAAKb,MAAL,CAAYc,KAAZ,CAAR;AACAD,kBAAMD,UAAN,GAAmB,KAAnB;AACA,iBAAKZ,MAAL,CAAYgB,MAAZ,CAAmBF,KAAnB,EAA0B,CAA1B;AACA;AACD;AACF;;;kDAM0B;AACzB,cAAI,OAAOpB,SAASuB,MAAhB,KAA2B,WAA/B,EAA4C;AAC1C,iBAAKV,iBAAL,GAAyB,QAAzB;AACA,iBAAKW,iBAAL,GAAyB,kBAAzB;AACD,WAHD,MAGO,IAAI,OAAOxB,SAASC,SAAhB,KAA8B,WAAlC,EAA+C;AACpD,iBAAKY,iBAAL,GAAyB,WAAzB;AACA,iBAAKW,iBAAL,GAAyB,qBAAzB;AACD,WAHM,MAGA,IAAI,OAAOxB,SAASE,QAAhB,KAA6B,WAAjC,EAA8C;AACnD,iBAAKW,iBAAL,GAAyB,UAAzB;AACA,iBAAKW,iBAAL,GAAyB,oBAAzB;AACD,WAHM,MAGA,IAAI,OAAOxB,SAASG,YAAhB,KAAiC,WAArC,EAAkD;AACvD,iBAAKU,iBAAL,GAAyB,cAAzB;AACA,iBAAKW,iBAAL,GAAyB,wBAAzB;AACD;;AAEDxB,mBAASyB,gBAAT,CAA0B,KAAKD,iBAA/B,EACE,KAAKZ,mBADP,EAC4B,KAD5B;AAEH;;;6CAaqB;AACpB,eAAKK,YAAL,GAAoB,KAAKX,MAAL,CAAYoB,KAAZ,CAAkB,CAAlB,CAApB;AACA,eAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKV,YAAL,CAAkBvC,MAAtC,EAA8CiD,GAA9C,EAAoD;AAClD,iBAAKV,YAAL,CAAkBU,CAAlB,EAAqBC,KAArB;AACD;AACF;;;gDAMwB;AACvB,eAAK,IAAID,IAAE,CAAX,EAAcA,IAAI,KAAKV,YAAL,CAAkBvC,MAApC,EAA4CiD,GAA5C,EAAkD;AAChD,iBAAKV,YAAL,CAAkBU,CAAlB,EAAqBE,MAArB;AACD;AACF;;;+BAMMjD,I,EAAM;AACX,cAAI+C,IAAI,KAAKrB,MAAL,CAAY5B,MAApB;AACA,iBAAMiD,GAAN,EAAW;AACT,gBAAIR,QAAQ,KAAKb,MAAL,CAAYqB,CAAZ,CAAZ;AACA,gBAAIR,MAAMX,MAAN,CAAa5B,IAAb,MAAuB,IAA3B,EAAiC;AAC/B,mBAAKkD,MAAL,CAAYX,KAAZ;AACAA,oBAAMY,eAAN;AACAZ,oBAAMa,SAAN,GAAkB1C,SAAlB;AACD;AACF;AACF;;;4BAMG6B,K,EAAO;AACT;AACA,cAAIA,MAAMD,UAAV,EAAsB;AAAE;AAAS;AACjCC,gBAAMD,UAAN,GAAmB,IAAnB;AACA,eAAKZ,MAAL,CAAYlB,IAAZ,CAAiB+B,KAAjB;AACA,eAAKc,UAAL;AACD;;;qCAOY;AACXjC,mBAASkC,mBAAT,CAA6B,KAAKV,iBAAlC,EACE,KAAKZ,mBADP,EAC4B,KAD5B;AAED;;;;;;sBAGa,IAAIR,OAAJ,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QC3KK+B,K;;;;;;;;;;;;;;wLAgMnBC,gB,GAAmB,UAACC,QAAD,EAAc;AAC/B,cAAIA,aAAa,CAAjB,EAAoB;AAAE;AAAS;AAC/B,cAAIC,OAAO,CAAX;;AAEA,cAAMC,QAAQ,MAAKhG,MAAnB;AACC8F,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAMlF,OAAN,EAA7B,CAL+B,CAKe;AAC7CgF,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAM/E,aAAN,EAA7B,CAN+B,CAMqB;AACnD6E,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAM5E,QAAN,EAA7B,CAP+B,CAOgB;AAC9C0E,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAM9E,gBAAN,EAA7B,CAR+B,CAQwB;AACtD4E,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAMhF,UAAN,EAA7B,CAT+B,CASkB;AAClD,S,QASDiF,mB,GAAsB,UAACH,QAAD,EAAc;AAClC,cAAIA,aAAa,CAAjB,EAAoB;AAAE;AAAS;AAC/B,cAAIC,OAAO,EAAX;;AAEA,cAAMC,QAAQ,MAAKhG,MAAnB;AACC8F,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAMhF,UAAN,EAA7B,CALkC,CAKe;AAChD8E,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAM9E,gBAAN,EAA7B,CANkC,CAMqB;AACtD4E,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAM5E,QAAN,EAA7B,CAPkC,CAOa;AAC9C0E,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAM/E,aAAN,EAA7B,CARkC,CAQkB;AACnD6E,sBAAYC,SAAS,CAArB,CAAD,IAA6BC,MAAMlF,OAAN,EAA7B,CATkC,CASY;AAC/C,S;;;;;2CAtNkB;AAAE,iBAAO,KAAKf,SAAL,0BAAP;AAAmC;;;gCAMhD;AACN,eAAKmG,QAAL,GAAgB,sBAAiB,KAAKxG,EAAtB,CAAhB;;AAEA;;;AAGA,eAAKuC,KAAL,GAAa,KAAKiE,QAAL,CAAcC,UAAd,EAAb;;AAEA;;;AAGA,eAAKV,SAAL,GAAiB,CAACW,QAAlB;;AAEA;;;AAGA,eAAK9D,UAAL,GAAkB,KAAK4D,QAAL,CAAc5D,UAAhC;;AAEA;;;AAGA,eAAK+D,WAAL,GAAmBtD,SAAnB;;AAEA;;;AAGA,eAAKuD,QAAL,GAAgB,CAAhB;AACA,eAAKC,WAAL,GAAmB,CAAC,CAApB;;AAEA;;;AAGA,eAAKC,cAAL,GAAsB,CAAtB;;AAEA;;;AAGA,eAAKC,WAAL,GAAmB,KAAnB;;AAEA;;;AAGA,eAAKC,MAAL,GAAc,MAAd;;AAEA;;;AAGA,eAAKC,UAAL,GAAkB,MAAlB;;AAEA;AACA,eAAKC,aAAL,GAAqB,KAAKX,mBAA1B;AACD;;;sCAQa5D,I,EAAM;AAAA,uBACe,KAAKrC,MADpB;AAAA,cACV0B,SADU,UACVA,SADU;AAAA,cACCd,SADD,UACCA,SADD;AAAA,cAEZN,KAFY,GAEF,KAAKN,MAFH,CAEZM,KAFY;;;AAIlB,cAAI+B,SAASU,SAAb,EAAwB;AAAEV,mBAAO6B,YAAYC,GAAZ,EAAP;AAA2B;AACrD;AACA,eAAK0C,WAAL,GAAmBxE,IAAnB;AACA;AACA;AACA;AACA;AACA/B,kBAASM,SAAD,GAAc,CAAd,GAAkBN,KAA1B;AACA;AACA,eAAKwG,UAAL,GAAkB,KAAKD,WAAL,GAAmBvG,KAArC;AACA;AACA;AACA;AACA,eAAKwG,UAAL,IAAmB,KAAKN,cAAL,GAAsB9E,SAAzC;AACA;AACA;AACA;AACA,eAAKqF,SAAL,GAAkB,KAAKV,WAAL,KAAqBtD,SAAtB,GACb,KAAKsD,WADQ,GACMhE,OAAOX,SAD9B;AAEA;AACA,eAAK2E,WAAL,GAAmBtD,SAAnB;AACD;;;0CAQiBiE,K,EAAO;AACvB;AACA,eAAKL,UAAL,GAAkB,KAAKD,MAAvB;AACA,eAAKA,MAAL,GAAcM,KAAd;;AAEA;AACA,cAAMC,WAAW,KAAKN,UAAL,KAAoB,OAArC;AACA,cAAMO,UAAU,KAAKP,UAAL,KAAoB,MAApC;AACA,cAAMQ,UAAU,KAAKR,UAAL,KAAoB,MAApC;AACA,cAAMS,aAAa,KAAKT,UAAL,KAAoB,cAAvC;AACA,cAAMU,aAAaF,WAAWC,UAA9B;AACA,cAAME,WAAWJ,WAAWD,QAA5B;;AAEA,cAAI,CAACD,UAAU,MAAV,IAAoBA,UAAU,cAA/B,KAAkDM,QAAtD,EAAiE;AAC/D,iBAAKtH,MAAL,CAAYqB,eAAZ;AACD;AACD,cAAI2F,UAAU,OAAV,IAAqBK,UAAzB,EAAqC;AACnC,iBAAKrH,MAAL,CAAYsB,eAAZ;AACD;AACD,cAAI0F,UAAU,MAAV,KAAqBK,cAAcJ,QAAnC,CAAJ,EAAkD;AAChD,iBAAKjH,MAAL,CAAYuB,cAAZ;AACD;AACF;;;mCAU0B;AAAA,cAAlBgG,KAAkB,uEAAV,CAAU;AAAA,cAAPP,KAAO;;AACzB;AACA;AACA,cAAMN,SAAS,KAAKA,MAApB;AACA,cAAMC,aAAa,KAAKA,UAAxB;;AAEA,cAAMa,UAAUd,WAAW,OAA3B;AACA,cAAMe,SAASf,WAAW,MAA1B;AACA,cAAMgB,iBAAiBhB,WAAW,cAAlC;AACA,cAAMiB,qBAAqBhB,eAAe,cAA1C;AACA,cAAMQ,UAAWM,UAAYD,WAAWb,eAAe,MAAvD;AACA,cAAMS,aAAcM,kBAAoBF,WAAWG,kBAAnD;AACA,cAAMC,SAAUT,WAAWH,UAAU,cAAtB,IACCI,cAAcJ,UAAU,MADxC;AAEA;AACA,eAAKV,QAAL,GAAiB,KAAKA,QAAL,IAAiB,KAAKhE,UAAvB,GAAqC,CAArC,GAAyC,KAAKgE,QAA9D;AACA;AACA,cAAIsB,MAAJ,EAAY;AAAE,iBAAKtB,QAAL,GAAgB,KAAKhE,UAAL,GAAkB,KAAKgE,QAAvC;AAAkD;AAChE;AACA,eAAKuB,cAAL,CAAoBb,KAApB,EAA2BO,KAA3B;AACA;AACA,4BAAQO,GAAR,CAAY,IAAZ;AACA,iBAAO,IAAP;AACD;;;uCAScd,K,EAAkB;AAAA,cAAXO,KAAW,uEAAH,CAAG;;AAC/B;AACA,eAAKlB,WAAL,GAAmBnC,YAAYC,GAAZ,EAAnB;AACA;AACA,cAAM4D,YAAY,KAAK1B,WAAL,GAAmBhD,KAAK2E,GAAL,CAAST,KAAT,CAAnB,GAAqC,KAAKjB,QAA5D;AACA;AACA,eAAK2B,aAAL,CAAmBF,SAAnB,EAA8B,KAA9B;AACA;AACA;AACA,cAAI,KAAKtC,SAAL,GAAiB,CAACW,QAAtB,EAAgC;AAAA,gBACtBU,UADsB,GACe,IADf,CACtBA,UADsB;AAAA,gBACVR,QADU,GACe,IADf,CACVA,QADU;AAAA,gBACAhE,UADA,GACe,IADf,CACAA,UADA;;AAE9B,iBAAKmD,SAAL,GAAkBuB,UAAU,MAAX,GACb,KAAKH,WAAL,GAAmBP,QADN,GAEZQ,aAAaxE,UAAb,GAA0B,KAAKtC,MAAL,CAAYM,KAAvC,GAAgD,KAAKgG,QAFzD;AAGD;AACF;;;+BA+CMjE,I,EAAM;AACX;AACA,cAAIA,OAAO,KAAKoD,SAAhB,EAA2B;;AAEzB,gBAAIpD,OAAQ,KAAKyE,UAAL,GAAkB,KAAKxE,UAAvB,GAAoC,KAAKtC,MAAL,CAAYM,KAA5D,EAAoE;AAClE;AACA;AACA,qBAAO,KAAKiG,WAAL,GAAmB,KAAKtE,KAAL,CAAWE,MAArC,EAA6C;AAC3C,qBAAKoE,WAAL;AACA,qBAAKN,mBAAL,CAAyB,KAAKhE,KAAL,CAAW,KAAKsE,WAAhB,CAAzB;AACD;AACD;AACA,mBAAKd,SAAL,GAAiB,CAACW,QAAlB;AACA,mBAAKG,WAAL,GAAmB,KAAKtE,KAAL,CAAWE,MAA9B;AACA;AACA,qBAAO,IAAP;AACD;;AAED,gBAAIE,QAAQ,KAAKyE,UAAjB,EAA6B;AAC3B,qBAAO,KAAKP,WAAL,GAAiB,EAAjB,GAAsBlE,OAAO,KAAKyE,UAAzC,EAAqD;AACnD,qBAAKP,WAAL;AACA,qBAAKN,mBAAL,CAAyB,KAAKhE,KAAL,CAAW,KAAKsE,WAAhB,CAAzB;AACA,qBAAKd,SAAL,GAAiBpD,IAAjB;AACD;AAEF;;AAEH;AACC,WA1BD,MA0BO,IAAIA,OAAO,KAAKoD,SAAhB,EAA2B;AAChC,gBAAIpD,OAAO,KAAKyE,UAAhB,EAA4B;AAC1B;AACA;AACA,qBAAO,KAAKP,WAAL,GAAmB,CAA1B,EAA6B;AAC3B,qBAAKA,WAAL;AACA,qBAAKV,gBAAL,CAAsB,KAAK5D,KAAL,CAAW,KAAKsE,WAAhB,CAAtB;AACD;AACD;AACA,mBAAKd,SAAL,GAAiB,CAACW,QAAlB;AACA,mBAAKG,WAAL,GAAmB,CAAC,CAApB;AACA;AACA,qBAAO,IAAP;AACD;;AAED,gBAAIlE,QAAQ,KAAKyE,UAAL,GAAkB,KAAKxE,UAAnC,EAA+C;AAC7C,qBAAO,KAAKiE,WAAL,GAAiB,EAAjB,GAAsBlE,OAAO,KAAKyE,UAAzC,EAAqD;AACnD,qBAAKP,WAAL;AACA,qBAAKV,gBAAL,CAAsB,KAAK5D,KAAL,CAAW,KAAKsE,WAAhB,CAAtB;AACA,qBAAKd,SAAL,GAAiBpD,IAAjB;AACD;AACF;AAEF;AAEF;;;+BAQe;AAAA,cAAXkF,KAAW,uEAAH,CAAG;;AACd,cAAI,KAAKb,MAAL,KAAgB,MAAhB,IAA0B,KAAK/B,UAAnC,EAA+C;AAAE,mBAAO,IAAP;AAAc;AAC/D,eAAK8B,WAAL,GAAmB,KAAnB;AACA,eAAKyB,QAAL,CAAcX,KAAd,EAAqB,MAArB;AACA,eAAKY,iBAAL,CAAuB,MAAvB;;AAEA,iBAAO,IAAP;AACD;;;uCASuB;AAAA,cAAXZ,KAAW,uEAAH,CAAG;;AACtB,cAAI,KAAKb,MAAL,KAAgB,cAAhB,IAAkC,KAAK/B,UAA3C,EAAuD;AAAE,mBAAO,IAAP;AAAc;AACvE,eAAK3E,MAAL,CAAYoI,UAAZ,GAAyB,IAAzB;AACA,eAAKF,QAAL,CAAcX,KAAd,EAAqB,cAArB;AACA,eAAKY,iBAAL,CAAuB,cAAvB;;AAEA,iBAAO,IAAP;AACD;;;iCASiB;AAAA,cAAXZ,KAAW,uEAAH,CAAG;;AAChB,eAAKc,KAAL;AACA,eAAKC,IAAL,CAAUf,KAAV;;AAEA,iBAAO,IAAP;AACD;;;yCASyB;AAAA,cAAXA,KAAW,uEAAH,CAAG;;AACxB,eAAKc,KAAL;AACA,eAAKE,YAAL,CAAkBhB,KAAlB;;AAEA,iBAAO,IAAP;AACD;;;gCAQO;AACN,cAAI,KAAKb,MAAL,KAAgB,OAAhB,IAA2B,KAAKA,MAAL,KAAgB,MAA/C,EAAwD;AAAE,mBAAO,IAAP;AAAc;AACxE,4BAAQnB,MAAR,CAAe,IAAf;AACA,eAAK4C,iBAAL,CAAuB,OAAvB;;AAEA,iBAAO,IAAP;AACD;;;iCASiB;AAAA,cAAXZ,KAAW,uEAAH,CAAG;;AAChB,cAAK,KAAKb,MAAL,KAAgB,OAArB,EAA+B;AAAE,mBAAO,IAAP;AAAc;;AAE/C,kBAAQ,KAAKC,UAAb;AACE,iBAAK,MAAL;AACE,mBAAK2B,IAAL,CAAWf,KAAX;AACA;AACF,iBAAK,cAAL;AACE,mBAAKgB,YAAL,CAAmBhB,KAAnB;AACA;AANJ;;AASA,iBAAO,IAAP;AACD;;;6BASIiB,Q,EAAU;AACb,cAAK,KAAK9B,MAAL,KAAgB,MAArB,EAA8B;AAAE,mBAAO,IAAP;AAAc;;AAE9C,eAAKJ,QAAL,GAAiB,CAAjB;AACA,cAAMmC,WAAYD,YAAY,IAAb,GAAqBA;AACpC;;AADe,YAGX,KAAK9B,MAAL,KAAgB,cAAlB,GAAqC,CAArC,GAAyC,CAH7C;;AAKA,eAAKgC,WAAL,CAAiBD,QAAjB;AACA,eAAKJ,KAAL;;AAEA,iBAAO,IAAP;AACD;;;gCAQO;AACN,4BAAQ9C,MAAR,CAAe,IAAf;AACA,eAAK4C,iBAAL,CAAuB,MAAvB;AACA,eAAK7B,QAAL,GAAgB,CAAhB;AACA,eAAKC,WAAL,GAAmB,CAAC,CAApB;AACA;AACA;AACA;AACA;;AAEA,iBAAO,IAAP;AACD;;;oCASWiC,Q,EAAU;AACpB;AACA,WAAC,KAAK1B,UAAN,IAAoB,KAAKmB,aAAL,EAApB;AACA;AACA,eAAKlB,SAAL,GAAiBhE,SAAjB;AACA;AACCyF,qBAAW,CAAZ,KAAmBA,WAAW,CAA9B;AACCA,qBAAW,CAAZ,KAAmBA,WAAW,CAA9B;AACA;AACA,cAAMG,aAAa,KAAK7B,UAAL,GAAkB,KAAK9G,MAAL,CAAYM,KAAjD;AACA,eAAK2D,MAAL,CAAY0E,aAAaH,WAAW,KAAKlG,UAAzC;;AAEA,iBAAO,IAAP;AACD;;;iCASQ9B,K,EAAO;AACd;;;AAGA,eAAKR,MAAL,CAAYQ,KAAZ,GAAoBA,KAApB;AACA;AACA,cAAI,KAAKkG,MAAL,KAAgB,MAAhB,IAA0B,KAAKA,MAAL,KAAgB,iBAA9C,EAAiE;AAC/D,iBAAKmB,cAAL,CAAoB,KAAKnB,MAAzB;AACD;;AAED,iBAAO,IAAP;AACD;;;0CAQiB;AAChB,eAAKyB,iBAAL,CAAuB,MAAvB;AACA,eAAKnI,MAAL,CAAYwB,kBAAZ;;AAEA,iBAAO,IAAP;AACD;;;;;;sBA3dkBoE,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACErB,QAAIgD,OAAO;AACTC,gBAAU,OADD;AAETjD,4BAFS;AAGTkD,gCAHS;AAITC,mBAAa;AACXvJ,wCADW;AAEXwJ,uCAFW;AAGXC;AAHW;AAJJ,KAAX;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;sBAEeL,I","file":"mo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mojs\"] = factory();\n\telse\n\t\troot[\"mojs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 205720f5c2c8d3bfaea3","/**\n * ClassProto - base class for module.\n * It is needed to:\n *   - declare `_defaults`\n *   - extend `_defaults` by `options` and save result to `_props`\n *   - declare `_vars` after extention\n *   - call `_render` eventually\n */\nclass ClassProto {\n  constructor (o = {}) {\n    // save options\n    this._o = o;\n\n    this._init();\n    this._declareDefaults();\n    this._extendDefaults();\n    this._vars();\n  }\n\n  /**\n   * _init - lifecycle initialization function.\n   *\n   * @private\n   */\n  _init() {}\n\n  /**\n   * _declareDefaults - function to declare `_defaults` object.\n   *\n   * @private\n   */\n  _declareDefaults() { this._defaults = {}; }\n\n  /**\n   * _extendDefaults - Method to copy `_o` options to `_props` object\n   *                  with fallback to `_defaults`.\n   * @private\n   */\n  _extendDefaults() {\n    this._props = {\n      ...this._defaults,\n      ...this._o\n    };\n  }\n\n  /**\n   * _setProp - Method to set property on the module.\n   *\n   * @private\n   * @param {String, Object} Name of the property to set\n   *                         or object with properties to set.\n   * @param {Any} Value for the property to set. Could be\n   *              undefined if the first param is object.\n   */\n  _setProp(attr, value) {\n    if ( typeof attr === 'object' ) {\n      for ( var key in attr ) { this._assignProp( key, attr[key] ); }\n    } else { this._assignProp( attr, value ); }\n  }\n\n  /**\n   * _assignProp - Method to assign single property's value.\n   *\n   * @private\n   * @param {String} Property name.\n   * @param {Any}    Property value.\n   */\n  _assignProp(key, value) { this._props[key] = value; }\n\n  /**\n   * _vars - function do declare `variables` after `_defaults` were extended\n   *         by `options` and saved to `_props`\n   *\n   * @return {type}  description\n   */\n  _vars() {}\n}\n\nexport default ClassProto;\n\n\n\n// WEBPACK FOOTER //\n// ./src/class-proto.babel.js","export default {\n  /* duration of the tween [0..∞] */\n  duration:               350,\n  /* delay of the tween [-∞..∞] */\n  delay:                  0,\n  /* repeat of the tween [0..∞], means how much to\n     repeat the tween regardless first run,\n     for instance repeat: 2 will make the tween run 3 times */\n  repeat:                 0,\n  /* speed of playback [0..∞], speed that is less then 1\n     will slowdown playback, for instance .5 will make tween\n     run 2x slower. Speed of 2 will speedup the tween to 2x. */\n  speed:                  1,\n  /*  flip onUpdate's progress on each even period.\n      note that callbacks order won't flip at least\n      for now (under consideration). */\n  isYoyo:                   false,\n  /* easing for the tween, could be any easing type [link to easing-types.md] */\n  easing:                 'Sin.Out',\n  /*\n    Easing for backward direction of the tweenthe tween,\n    if `null` - fallbacks to `easing` property.\n    forward direction in `yoyo` period is treated as backward for the easing.\n  */\n  backwardEasing:         null,\n  // if should reverse the tween\n  isReverse:              false,\n  /*\n    onProgress callback runs before any other callback.\n    @param {Number}   The entire, not eased, progress\n                      of the tween regarding repeat option.\n    @param {Boolean}  The direction of the tween.\n                      `true` for forward direction.\n                      `false` for backward direction(tween runs in reverse).\n  */\n  onProgress:             function() {},\n  /*\n    onStart callback runs on very start of the tween just after onProgress\n    one. Runs on very end of the tween if tween is reversed.\n    @param {Boolean}  Direction of the tween.\n                      `true` for forward direction.\n                      `false` for backward direction(tween runs in reverse).\n  */\n  onStart:                function() {},\n  onRefresh:              function() {},\n  onComplete:             function() {},\n  onRepeatStart:          function() {},\n  onRepeatComplete:       function() {},\n  onFirstUpdate:          function() {},\n  onUpdate:               function() {},\n  // playback callbacks, these fire only when\n  // `play`, `replay`, `playBackward`, `replayBackward` were called\n  onPlaybackStart:        function() {},\n  onPlaybackPause:        function() {},\n  onPlaybackStop:         function() {},\n  onPlaybackComplete:     function() {},\n  /* custom tween's name */\n  name:                   null,\n  /* shift time on a timeline */\n  shiftTime:              0,\n  /* custom tween's base name */\n  nameBase:               'Tween',\n  isChained:              false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween-defaults.babel.js","import ClassProto from '../class-proto';\nimport defaults from './tween-defaults';\n\nexport default class Planner extends ClassProto {\n  /**\n   * _declareDefaults - function to declare module defaults.\n   *                    In this case defaults are the `tween defaults`\n   *                    since we will plan for tween.\n   *\n   * @private\n   */\n  _declareDefaults() { return this._defaults = defaults; }\n\n  /**\n   * _extendDefaults - Method to copy `_o` options to `_props` object\n   *                  with fallback to `_defaults`.\n   * @private\n   */\n  _extendDefaults() {\n    super._extendDefaults();\n\n    const { delay, duration, speed } = this._props;\n    // save the original `delay` property\n    this._originalDelay = delay;\n    // save the original `duration` property\n    this._originalDuration = duration;\n    // normalize `delay` and `duration` regarding `speed`\n    this._normalizeDelayAndDuration();\n  }\n\n  /**\n   * _normalizeDelayAndDuration - function to normalize `delay` and `duration`\n   *                              regarding `speed` property.\n   *\n   * @return {type}  description\n   */\n  _normalizeDelayAndDuration() {\n    const { speed } = this._props;\n    // normalize `delay` regarding `speed`\n    this._props.delay = this._originalDelay / speed;\n    // normalize `duration` regarding `speed`\n    this._props.duration = this._originalDuration / speed;\n  }\n\n  /**\n   * _vars - function do declare `variables` after `_defaults` were extended\n   *         by `options` and saved to `_props`\n   *\n   * @return {type}  description\n   */\n  _vars() {\n    this._plan = [];\n\n    // get total duration time\n    this._calcTotalTime();\n  }\n\n  /**\n   * createPlan - function to create an tween animation plan.\n   *\n   * @public\n   */\n  createPlan() {\n    // reset plan\n    this._plan.length = 0;\n    // recalculate total duration time\n    this._calcTotalTime();\n\n    // frame size (60fps)\n    const step = 16;\n    // current time\n    let time = this._props.delay;\n\n    while (time <= this._totalTime) {\n      const prevPeriod = this._getPeriod(time - step);\n      const period = this._getPeriod(time);\n      const nextPeriod = this._getPeriod(time + step);\n      const prevFrame = this._plan[this._plan.length-1];\n\n      let frameSnapshot = 0;\n\n      if (period === 'delay') {\n        this._plan.push(frameSnapshot);\n        time += step;\n        continue;\n      }\n\n      // onUpdate\n      frameSnapshot = frameSnapshot | (1 << 3);\n\n      const isPrevFrame = prevFrame !== undefined;\n\n      if (!isPrevFrame) {\n        // onStart\n        frameSnapshot = frameSnapshot | (1 << 1);\n      }\n\n      const isPrevDelay = prevPeriod === 'delay';\n      // onRepeatStart\n      if (!isPrevFrame || isPrevDelay || prevPeriod === period - 1) {\n        frameSnapshot = frameSnapshot | (1 << 2);\n      }\n\n      // onRepeatComplete\n      if (nextPeriod === 'delay' || nextPeriod === period + 1) {\n        frameSnapshot = frameSnapshot | (1 << 4);\n      }\n\n      this._plan.push(frameSnapshot);\n\n      time += step;\n    }\n\n    // onComplete\n    const lastIndex = this._plan.length - 1;\n    this._plan[lastIndex] = this._plan[lastIndex] | (1 << 5);\n    if (this._props.isReverse) {\n      this._plan.reverse();\n    }\n\n    return this._plan;\n  }\n\n  /**\n   * _calcBounds - function to calculate `totalTime`\n   */\n  _calcTotalTime() {\n    const { delay, duration, repeat } = this._props;\n    const time = duration + delay;\n\n    this._totalTime = time * (repeat + 1);\n  }\n\n  /**\n   * _getPeriod - Method to get current period number.\n   *\n   * @private\n   * @param {Number} Time to get the period for.\n   * @returns {Number} Current period number.\n   */\n  _getPeriod(time) {\n    const { delay, duration } = this._props;\n\n    const TTime = delay + duration;\n    let period = time / TTime;\n    // if time if equal to endTime we need to set the elapsed\n    // time to 0 to fix the occasional precision js bug, which\n    // causes 0 to be something like 1e-12\n    const elapsed = (time < this._totalTime) ? time % TTime : 0;\n    // If the latest period, round the result, otherwise floor it.\n    // Basically we always can floor the result, but because of js\n    // precision issues, sometimes the result is 2.99999998 which\n    // will result in 2 instead of 3 after the floor operation.\n    period = (time >= this._totalTime)\n      ? Math.round(period) : Math.floor(period);\n    // if time is larger then the end time\n    if (time > this._totalTime) {\n      // set equal to the periods count\n      return Math.round(this._totalTime/TTime);\n    // if in delay gap, set _delayT to current\n    // period number and return \"delay\"\n    } else if (elapsed > 0 && elapsed < delay) {\n      return 'delay';\n    // if right at the end of one repeat period and there is delay\n    // period should be `delay` vs `period + 1`\n    } else if (elapsed === 0 && time < this._totalTime && time < delay) {\n      return 'delay';\n    } else if (elapsed === 0 && time > delay) {\n      return period-1;\n    }\n    // if the end of period and there is a delay\n    return period;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/planner.babel.js","/**\n * Helper to get cross-brower `visibility change` event.\n */\nconst getVisiblityEvent = () => {\n  if (typeof document.mozHidden !== \"undefined\") {\n    return [\"mozHidden\", \"mozvisibilitychange\"];\n  } else if (typeof document.msHidden !== \"undefined\") {\n    return [\"msHidden\", \"msvisibilitychange\"];\n  } else if (typeof document.webkitHidden !== \"undefined\") {\n    return [\"webkitHidden\", \"webkitvisibilitychange\"];\n  }\n\n  return ['hidden', 'visibilitychange'];\n};\n\n/**\n * Tweener - singleton object that is responsible of:\n *  - starting `requestAnimationFrame` loop\n *  - stopping `requestAnimationFrame` loop\n *  - holding `tween`/`timeline` objects and passing current time to them.\n */\n  class Tweener {\n    constructor() {\n      this._vars();\n      this._listenVisibilityChange();\n      return this;\n    }\n\n    _vars () {\n      this.tweens = [];\n      // this._loop = this._loop.bind(this);\n      this._savedTweens = [];\n    }\n\n    /*\n     Main animation loop. Should have only one concurrent loop.\n     @private\n     @returns this\n    */\n    _loop = () => {\n      if (this.tweens.length === 0) { return this._stopLoop(); }\n      this.update(performance.now());\n      // if (!this.tweens.length) { return this._isRunning = false; }\n      requestAnimationFrame(this._loop);\n    }\n    /*\n     Method to start animation loop.\n     @private\n    */\n    _startLoop() {\n      if (this._isRunning) { return; };\n      this._isRunning = true;\n      //  if (this.tweens.length > 0) { return; };\n      requestAnimationFrame(this._loop);\n    }\n    /*\n     Method to stop animation loop.\n     @private\n    */\n    _stopLoop() {\n      this.tweens.length = 0;\n      this._isRunning = false;\n    }\n\n    /*\n     Method stop updating all the child tweens/timelines.\n     @private\n    */\n    removeAll() { this.tweens.length = 0; }\n    /*\n     Method to remove specific tween/timeline form updating.\n     @private\n    */\n    remove(tween) {\n      var index = (typeof tween === 'number')\n       ? tween\n       : this.tweens.indexOf(tween);\n\n      if (index !== -1) {\n        tween = this.tweens[index];\n        tween._isRunning = false;\n        this.tweens.splice(index, 1);\n        //  tween._onTweenerRemove();\n      }\n    }\n\n    /*\n     Method to initialize event listeners to visibility change events.\n     @private\n    */\n    _listenVisibilityChange () {\n      if (typeof document.hidden !== \"undefined\") {\n        this._visibilityHidden = \"hidden\";\n        this._visibilityChange = \"visibilitychange\";\n      } else if (typeof document.mozHidden !== \"undefined\") {\n        this._visibilityHidden = \"mozHidden\";\n        this._visibilityChange = \"mozvisibilitychange\";\n      } else if (typeof document.msHidden !== \"undefined\") {\n        this._visibilityHidden = \"msHidden\";\n        this._visibilityChange = \"msvisibilitychange\";\n      } else if (typeof document.webkitHidden !== \"undefined\") {\n        this._visibilityHidden = \"webkitHidden\";\n        this._visibilityChange = \"webkitvisibilitychange\";\n      }\n\n      document.addEventListener(this._visibilityChange,\n        this._onVisibilityChange, false);\n  }\n\n  /*\n   Method that will fire on visibility change.\n  */\n  _onVisibilityChange = () => {\n    if (document[this._visibilityHidden]) { this._savePlayingTweens() }\n    else { this._restorePlayingTweens(); }\n  }\n  /*\n   Method to save all playing tweens.\n   @private\n  */\n  _savePlayingTweens () {\n    this._savedTweens = this.tweens.slice(0);\n    for (let i = 0; i < this._savedTweens.length; i++ ) {\n      this._savedTweens[i].pause();\n    }\n  }\n\n  /*\n   Method to restore all playing tweens.\n   @private\n  */\n  _restorePlayingTweens () {\n    for (let i=0; i < this._savedTweens.length; i++ ) {\n      this._savedTweens[i].resume();\n    }\n  }\n\n  /*\n   Method to update every tween/timeline on animation frame.\n   @private\n  */\n  update(time) {\n    var i = this.tweens.length;\n    while(i--) {\n      var tween = this.tweens[i];\n      if (tween.update(time) === true) {\n        this.remove(tween);\n        tween.onTweenerFinish();\n        tween._prevTime = undefined;\n      }\n    }\n  }\n\n  /*\n   Method to add a Tween/Timeline to loop pool.\n   @param {Object} Tween/Timeline to add.\n  */\n  add(tween) {\n    // return if tween is already running\n    if (tween._isRunning) { return; }\n    tween._isRunning = true;\n    this.tweens.push(tween);\n    this._startLoop();\n  }\n\n  /**\n   * caffeinate - function to keep tweener awake on page blur.\n   *\n   * @public\n   */\n  caffeinate() {\n    document.removeEventListener(this._visibilityChange,\n      this._onVisibilityChange, false);\n  }\n }\n\n export default new Tweener;\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tweener.babel.js","import ClassProto from '../class-proto';\nimport defaults from './tween-defaults';\nimport TweenPlanner from './planner';\nimport tweener from './tweener';\n\nexport default class Tween extends ClassProto {\n  /**\n   * _declareDefaults - function to declare module defaults.\n   *                    In this case defaults are the `tween defaults`\n   *                    since we will plan for tween.\n   * @private\n   */\n  _declareDefaults() { return this._defaults = defaults; }\n\n  /**\n   * _vars - function do declare `variables` after `_defaults` were extended\n   *         by `options` and saved to `_props`\n   */\n  _vars() {\n    this._planner = new TweenPlanner(this._o);\n\n    /**\n     * TODO: cover\n     */\n    this._plan = this._planner.createPlan();\n\n    /**\n     * TODO: cover\n     */\n    this._prevTime = -Infinity;\n\n    /**\n     * TODO: cover\n     */\n    this._totalTime = this._planner._totalTime;\n\n    /**\n     * TODO: cover\n     */\n    this._resumeTime = undefined;\n\n    /**\n     * TODO: cover\n     */\n    this._elapsed = 0;\n    this._frameIndex = -1;\n\n    /**\n     * TODO: cover\n     */\n    this._negativeShift = 0;\n\n    /**\n     * TODO: cover\n     */\n    this._isReversed = false;\n\n    /**\n     * TODO: cover\n     */\n    this._state = 'stop';\n\n    /**\n     * TODO: cover\n     */\n    this._prevState = 'stop';\n\n    // this._cb = this._envokeCallBacks;\n    this._callbacksRev = this._envokeCallBacksRev;\n  }\n\n  /**\n   * _setStartTime - function to set animation start time.\n   *\n   * @private\n   * @param {Number} Time to set.\n   */\n  _setStartTime(time) {\n    const { shiftTime, isReverse } = this._props;\n    let { delay } = this._props;\n\n    if (time === undefined) { time = performance.now(); }\n    // set starting point for tween animation\n    this._startPoint = time;\n    // for reverse tweens the start time should not be delayed since tween can't\n    // have delay at the end:\n    // |---=====|---=====|---=====|  <<< backward\n    //                            ^\n    delay = (isReverse) ? 0 : delay;\n    // start time of the tween is `startPoint` + `delay`\n    this._startTime = this._startPoint + delay;\n    // add shifts to the start time\n    // - negativeShift is negative delay in options hash\n    // - shift time is shift of the parent\n    this._startTime += this._negativeShift + shiftTime;\n    // set play time to the startTimes\n    // if playback controls are used - use _resumeTime as play time,\n    // else use shifted startTime -- shift is needed for timelines append chains\n    this._playTime = (this._resumeTime !== undefined)\n      ? this._resumeTime : time + shiftTime;\n    // reset the resume time\n    this._resumeTime = undefined;\n  }\n\n  /**\n   * _setPlaybackState - Method set playback state string.\n   *\n   * @private\n   * @param {String} State name\n   */\n  _setPlaybackState(state) {\n    // save previous state\n    this._prevState = this._state;\n    this._state = state;\n\n    // get previous state\n    const wasPause = this._prevState === 'pause';\n    const wasStop = this._prevState === 'stop';\n    const wasPlay = this._prevState === 'play';\n    const wasReverse = this._prevState === 'playBackward';\n    const wasPlaying = wasPlay || wasReverse;\n    const wasStill = wasStop || wasPause;\n\n    if ((state === 'play' || state === 'playBackward') && wasStill ) {\n      this._props.onPlaybackStart();\n    }\n    if (state === 'pause' && wasPlaying) {\n      this._props.onPlaybackPause();\n    }\n    if (state === 'stop' && (wasPlaying || wasPause)) {\n      this._props.onPlaybackStop();\n    }\n  }\n\n  /**\n   * _subPlay - Method to launch play. Used as launch\n   *            method for bothplay and reverse methods.\n   *\n   * @private\n   * @param {Number} Shift time in milliseconds.\n   * @param {String} Play or reverse state.\n   */\n  _subPlay(shift = 0, state) {\n    // check if direction of playback changes,\n    // if so, the _progressTime needs to be flipped\n    const _state = this._state;\n    const _prevState = this._prevState;\n\n    const isPause = _state === 'pause';\n    const isPlay = _state === 'play';\n    const isPlayBackward = _state === 'playBackward';\n    const isPrevPlayBackward = _prevState === 'playBackward';\n    const wasPlay = (isPlay || ( isPause && _prevState === 'play'));\n    const wasReverse = (isPlayBackward || ( isPause && isPrevPlayBackward));\n    const isFlip = (wasPlay && state === 'playBackward') ||\n                   (wasReverse && state === 'play');\n    // if tween was ended, set progress to 0 if not, set to elapsed progress\n    this._elapsed = (this._elapsed >= this._totalTime) ? 0 : this._elapsed;\n    // flip the _elapsed if playback direction changed\n    if (isFlip) { this._elapsed = this._totalTime - this._elapsed; }\n    // set resume time and normalize prev/start times\n    this._setResumeTime(state, shift);\n    // add self to tweener = play\n    tweener.add(this);\n    return this;\n  }\n\n  /**\n   * _setResumeTime - Method to set _resumeTime, _startTime and _prevTime.\n   *\n   * @private\n   * @param {String} Current state. [play, reverse]\n   * @param {Number} Time shift.\n   */\n  _setResumeTime(state, shift = 0) {\n    // get current moment as resume time\n    this._resumeTime = performance.now();\n    // set start time regarding passed `shift` and `procTime`\n    const startTime = this._resumeTime - Math.abs(shift) - this._elapsed;\n    // set the new start time\n    this._setStartTime(startTime, false);\n    // if we have prevTime - we need to normalize\n    // it for the current resume time\n    if (this._prevTime > -Infinity) {\n      const { _startTime, _elapsed, _totalTime } = this;\n      this._prevTime = (state === 'play')\n        ? this._startPoint + _elapsed\n        : (_startTime + _totalTime - this._props.delay) - this._elapsed;\n    }\n  }\n\n  /**\n   * _envokeCallBacks - function to envoke callbacks regarding frame snapshot.\n   *\n   * @private\n   * @param {Number} Frame snapshot.\n   */\n  _envokeCallBacks = (snapshot) => {\n    if (snapshot === 0) { return; };\n    let mask = 1;\n\n    const props = this._props;\n    (snapshot & (mask <<= 1)) && props.onStart(); // 2\n    (snapshot & (mask <<= 1)) && props.onRepeatStart(); // 4\n    (snapshot & (mask <<= 1)) && props.onUpdate(); // 8\n    (snapshot & (mask <<= 1)) && props.onRepeatComplete(); // 16\n    (snapshot & (mask <<= 1)) && props.onComplete(); // 32\n  }\n\n  /**\n   * _envokeCallBacksRev - function to envoke callbacks regarding frame snapshot\n   *                        in reverse direction.\n   *\n   * @private\n   * @param {Number} Frame snapshot.\n   */\n  _envokeCallBacksRev = (snapshot) => {\n    if (snapshot === 0) { return; };\n    let mask = 64;\n\n    const props = this._props;\n    (snapshot & (mask >>= 1)) && props.onComplete(); // 32\n    (snapshot & (mask >>= 1)) && props.onRepeatComplete(); // 16\n    (snapshot & (mask >>= 1)) && props.onUpdate(); // 8\n    (snapshot & (mask >>= 1)) && props.onRepeatStart(); // 4\n    (snapshot & (mask >>= 1)) && props.onStart(); // 2\n  }\n\n  /** PUBLIC FUNCTIONS **/\n\n  /**\n   * update - function to envoke callbacks regarding current time.\n   *\n   * @public\n   * @param {Number} Current time.\n   */\n  update(time) {\n    // if forward direction\n    if (time > this._prevTime) {\n\n      if (time > (this._startTime + this._totalTime - this._props.delay)) {\n        // if jumped over the end time of the tween - make continious updates\n        // and envoke callbacks until the end time is reached\n        while (this._frameIndex < this._plan.length) {\n          this._frameIndex++;\n          this._envokeCallBacksRev(this._plan[this._frameIndex]);\n        }\n        // reset flags because tween is ended\n        this._prevTime = +Infinity;\n        this._frameIndex = this._plan.length;\n        // return `true` indicating that tween is completed\n        return true;\n      }\n\n      if (time >= this._startTime) {\n        while (this._frameIndex*16 < time - this._startTime) {\n          this._frameIndex++;\n          this._envokeCallBacksRev(this._plan[this._frameIndex]);\n          this._prevTime = time;\n        }\n\n      }\n\n    // if backward direction\n    } else if (time < this._prevTime) {\n      if (time < this._startTime) {\n        // if jumped over the start time of the tween - make continious updates\n        // and envoke callbacks until the start time is reached\n        while (this._frameIndex > 0) {\n          this._frameIndex--;\n          this._envokeCallBacks(this._plan[this._frameIndex]);\n        }\n        // reset flags because tween is ended\n        this._prevTime = -Infinity;\n        this._frameIndex = -1;\n        // return `true` indicating that tween is completed\n        return true;\n      }\n\n      if (time <= this._startTime + this._totalTime) {\n        while (this._frameIndex*16 > time - this._startTime) {\n          this._frameIndex--;\n          this._envokeCallBacks(this._plan[this._frameIndex]);\n          this._prevTime = time;\n        }\n      }\n\n    }\n\n  }\n\n  /**\n   * play - function to play the tween.\n   *\n   * @public\n   * @return {Object} This tween.\n   */\n  play(shift = 0) {\n    if (this._state === 'play' && this._isRunning) { return this; }\n    this._isReversed = false;\n    this._subPlay(shift, 'play');\n    this._setPlaybackState('play');\n\n    return this;\n  }\n\n  /**\n   * playBackward - function to play the Tween in backward direction.\n   *\n   * @public\n   * @param  {Number} Shift time in milliseconds.\n   * @return {Object} This tween.\n   */\n  playBackward(shift = 0) {\n    if (this._state === 'playBackward' && this._isRunning) { return this; }\n    this._props.isReversed = true;\n    this._subPlay(shift, 'playBackward');\n    this._setPlaybackState('playBackward');\n\n    return this;\n  }\n\n  /**\n   * replay - API method to replay(restart) the Tween.\n   *\n   * @public\n   * @param   {Number} Shift time in milliseconds.\n   * @returns {Object} This tween.\n   */\n  replay(shift = 0) {\n    this.reset();\n    this.play(shift);\n\n    return this;\n  }\n\n  /**\n   * replayBackward - API method to replay(restart) backward the Tween.\n   *\n   * @public\n   * @param   {Number} Shift time in milliseconds.\n   * @returns {Object} This tween.\n   */\n  replayBackward(shift = 0) {\n    this.reset();\n    this.playBackward(shift);\n\n    return this;\n  }\n\n  /**\n   * pause - function to pause the tween\n   *\n   * @public\n   * @return {Object} This tween.\n   */\n  pause() {\n    if (this._state === 'pause' || this._state === 'stop')  { return this; }\n    tweener.remove(this);\n    this._setPlaybackState('pause');\n\n    return this;\n  }\n\n  /**\n   * resume - API method to resume the Tween.\n   *\n   * @public\n   * @param {Number} Shift time in milliseconds.\n   * @return {Object} Tween this.\n   */\n  resume(shift = 0) {\n    if ( this._state !== 'pause' ) { return this; }\n\n    switch (this._prevState) {\n      case 'play':\n        this.play( shift );\n        break;\n      case 'playbackward':\n        this.playBackward( shift );\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * stop - function to stop the Tween.\n   *\n   * @public\n   * @param {Number} Progress to set when stopped [0...1].\n   * @returns {Object} This tween.\n   */\n  stop(progress) {\n    if ( this._state === 'stop' ) { return this; }\n\n    this._elapsed  = 0;\n    const stopProc = (progress != null) ? progress\n      /* if no progress passsed - set 1 if tween\n         is playingBackward, otherwise set to 0 */\n      : ( this._state === 'playBackward' ) ? 1 : 0\n\n    this.setProgress(stopProc);\n    this.reset();\n\n    return this;\n  }\n\n  /**\n   * stop - function to to reset tween's state and properties.\n   *\n   * @public\n   * @returns {Object} This tween.\n   */\n  reset() {\n    tweener.remove(this);\n    this._setPlaybackState('stop');\n    this._elapsed = 0;\n    this._frameIndex = -1;\n    // this._isCompleted      = false;\n    // this._isStarted        = false;\n    // this._isFirstUpdate    = false;\n    // this._props.isReversed = false;\n\n    return this;\n  }\n\n  /**\n   * setProgress - API method to set progress on tween.\n   *\n   * @public\n   * @param {Number} Progress to set.\n   * @returns {Object} This tween.\n   */\n  setProgress(progress) {\n    // set start time if there is no one yet.\n    !this._startTime && this._setStartTime();\n    // reset play time\n    this._playTime = undefined;\n    // progress should be in range of [0..1]\n    (progress < 0) && (progress = 0);\n    (progress > 1) && (progress = 1);\n    // update self with calculated time\n    const startPoint = this._startTime - this._props.delay;\n    this.update(startPoint + progress * this._totalTime);\n\n    return this;\n  }\n\n  /**\n   * setSpeed - Method to set tween's speed.\n   *\n   * @public\n   * @param {Number} Speed value.\n   * @returns {Object} This tween.\n   */\n  setSpeed(speed) {\n    /**\n     * TODO: recalculate `plan` if speed changes.\n     */\n    this._props.speed = speed;\n    // if playing - normalize _startTime and _prevTime to the current point.\n    if (this._state === 'play' || this._state === 'playingBackward') {\n      this._setResumeTime(this._state);\n    }\n\n    return this;\n  }\n\n  /**\n   * onTweenerFinish - callback that will be invoked when\n   *                   `tween` playback completed.\n   *\n   * @public\n   */\n  onTweenerFinish() {\n    this._setPlaybackState('stop');\n    this._props.onPlaybackComplete();\n\n    return this;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween.babel.js","import Tween from './tween/tween';\n\nimport ClassProto from './class-proto';\nimport TweenPlanner from './tween/planner';\nimport tweenDefaults from './tween/tween-defaults';\nimport tweener from './tween/tweener';\n\nvar mojs = {\n  revision: '2.2.1',\n  Tween,\n  tweener,\n  __helpers__: {\n    ClassProto,\n    TweenPlanner,\n    tweenDefaults\n  }\n};\n\n// window.onload = () => {\n//   const items = [];\n//   setTimeout(() => {\n//     for (let i = 0; i < 1; i++) {\n//       const tw = new mojs.Tween({\n//         isReverse: true,\n//         repeat: 2,\n//         duration: 2000,\n//         delay: 5000,\n//         onUpdate() {\n//           (i === 0) && console.log( 'update' );\n//         },\n//         onStart() {\n//           (i === 0) && console.log( 'start' );\n//         },\n//         onRepeatStart() {\n//           (i === 0) && console.log( 'repeatStart' );\n//         },\n//         onRepeatComplete() {\n//           (i === 0) && console.log( 'repeatComplete' );\n//         },\n//         onComplete() {\n//           (i === 0) && console.log( 'complete' );\n//         }\n//       });\n//       items.push(tw);;\n//     }\n//\n//     setTimeout(function() {\n//       for (let i = 0; i < items.length; i++) {\n//         items[i].play();\n//       }\n//     }, 10);\n//   }, 10);\n// };\n\nexport default mojs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/mojs.babel.js"],"sourceRoot":""}